<div class="card">

  <!-- HEADER -->
  <div class="card-header">
    <h2>UK State Pension payment dates</h2>
    <button id="helpBtn"
            class="help-icon"
            data-tip="Click for help"
            aria-label="Help">?</button>
  </div>

  <!-- INPUT CONTROLS -->
  <div class="control-strip">

    <div class="control-row">

      <div class="field ni">
        <label for="ni">NI code (3 chars)</label>
        <span class="tip" data-tip="Enter the last 3 characters of your NI number (e.g. 23C)">
          <input id="ni"
                 maxlength="3"
                 pattern="^(\d{2})([A-D])$"
                 autocomplete="on">
        </span>
      </div>

      <div class="field year">
        <label for="startYear">From</label>
        <span class="tip" data-tip="First year to include (4 digits)">
          <input id="startYear"
                 maxlength="4"
                 inputmode="numeric"
                 pattern="[0-9]{4}">
        </span>
      </div>

      <div class="field year">
        <label for="endYear">To</label>
        <span class="tip" data-tip="Last year to include (4 digits)">
          <input id="endYear"
                 maxlength="4"
                 inputmode="numeric"
                 pattern="[0-9]{4}">
        </span>
      </div>

    
      <div class="field cycle">
        <label for="cycleDays">Payment cycle</label>
        <span class="tip" data-tip="Payment frequency">
          <select id="cycleDays">
            <option value="28" selected>Every 28 days</option>
            <option value="14">Every 14 days</option>
            <option value="7">Every 7 days</option>
          </select>
        </span>
      </div>

    </div>
  </div>


  <!-- TAB BAR -->
  <div class="view-bar">

    <div class="view-tabs" role="tablist" aria-label="Output views">

      <button class="view-tab"
              role="tab"
              data-view="calendar"
              data-tip="Monthly calendar view">
        Calendar
      </button>

      <button class="view-tab"
              role="tab"
              data-view="list"
              data-tip="Simple list of payment dates">
        List
      </button>

      <button class="view-tab"
              role="tab"
              data-view="csv"
              data-tip="CSV file for spreadsheets">
        CSV
      </button>

      <button class="view-tab"
              role="tab"
              data-view="ics"
              data-tip="ICS file for calendar apps">
        ICS
      </button>

    </div>

    <div class="view-actions">
      <button id="exportBtn"
              class="secondary"
              data-tip="Export the current view">
        Export
      </button>
    </div>

  </div>


<div id="output">

  <div id="status"></div>

  <!-- INFO SUMMARY -->
  <div class="info-panel" id="info-panel">
    <div class="info-placeholder">
      Enter your details to see payment information.
    </div>
  </div>

<!-- VIEW-SPECIFIC CONTROLS -->

<div class="view-controls view-calendar">
  <label>
    <span class="tip"
          data-tip="Highlight Saturdays and Sundays in the calendar">
      <input type="checkbox" id="showWeekends" checked>
      Weekends
    </span>
  </label>

  <label>
    <span class="tip"
          data-tip="Highlight UK bank holidays and adjust payments paid early">
      <input type="checkbox" id="showBankHolidays" checked>
      UK bank holidays
    </span>
  </label>
</div>

<div class="view-controls view-text">
  <div class="field format">
    <label for="dateFormat">Date format</label>
    <span class="tip"
          data-tip="Controls how dates are displayed in List and CSV views">
      <select id="dateFormat">
        <option value="slash">DD/MM/YYYY</option>
        <option value="medium">DD Month YYYY</option>
        <option value="long">Day DD Month YYYY</option>
        <option value="iso">YYYY-MM-DD</option>
      </select>
    </span>
  </div>
</div>

<!-- ICS EXPORT OPTIONS -->
<div class="view-controls view-ics">

  <div class="field">
    <label for="eventTitle">Calendar event name</label>
    <span class="tip"
          data-tip="This is the title shown in your calendar for each payment">
      <input id="eventTitle"
             type="text"
             value="UK State Pension"
             maxlength="60">
    </span>
  </div>

  <div class="field">
    <label for="eventColor">Event colour</label>
    <span class="tip"
          data-tip="Some calendar apps support event colours on import (e.g. Apple Calendar)">
      <select id="eventColor">
        <option value="">Default</option>
        <option value="#2563EB">Blue</option>
        <option value="#16A34A">Green</option>
        <option value="#F59E0B">Orange</option>
        <option value="#DC2626">Red</option>
        <option value="#7C3AED">Purple</option>
      </select>
    </span>
  </div>

  <div class="field">
    <label for="earlyColor">Early payment colour</label>
    <span class="tip"
          data-tip="Optional different colour for payments made early due to bank holidays">
      <select id="earlyColor">
        <option value="">Same as normal</option>
        <option value="#F59E0B">Orange</option>
        <option value="#DC2626">Red</option>
        <option value="#2563EB">Blue</option>
      </select>
    </span>
  </div>

</div>

  <!-- view-specific content gets rendered here -->
   <div id="outputContent"></div>
</div>
</div>
